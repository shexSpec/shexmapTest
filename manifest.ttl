# vi: nomodeline:
#@base <https://raw.githubusercontent.com/shexSpec/shexmapTest/master/manifest.ttl> .
@prefix rdf:    <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:   <http://www.w3.org/2000/01/rdf-schema#> .
@prefix mf:     <http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#> .
@prefix prov:   <http://www.w3.org/ns/prov#> .
@prefix t: <https://raw.githubusercontent.com/shexSpec/shexmapTest/master/testcase.ttl#> .
@prefix ex: <http://example/> .

<> a mf:Manifest ;
  rdfs:comment "ShExMap validation tests" ;
  mf:entries (
    <#simple>
    <#minimalRename>
    <#cardinatility>
  ) .

<#simple> a mf:ManifestEntry ;
  mf:name "simple rename of predicate" ;
  mf:result mf:proposed ;
  mf:action [
    a t:Action ;
    t:kind t:RoundTrip ;
    t:left [
      t:source <./shapes/one-left.shex> ;
      t:shape  <http://a.example/S1>
    ] ;
    t:right [
      t:source <./shapes/one-right.shex> ;
      t:shape  <http://b.example/S1>
    ] ;
    t:start [
      t:source <./graphs/single-statement.ttl> ;
      t:focus ex:foo
    ] ;
    t:target [
      t:source <./graphs/different-single-statement.ttl> ;
      t:focus ex:bar
    ]
  ] .

<#minimalRename> a mf:ManifestEntry ;
  mf:name "renaming a predicate uses minimal edges" ;
  mf:result mf:proposed ;
  mf:action [
    a t:Action ;
    t:kind t:RoundTrip ;
    t:left [
      t:source <./shapes/two-left.shex> ;
      t:shape  <http://a.example/S1>
    ] ;
    t:right [
      t:source <./shapes/two-right.shex> ;
      t:shape  <http://b.example/S1>
    ] ;
    t:start [
      t:source <./graphs/two-values.ttl> ;
      t:focus ex:foo
    ] ;
    t:target [
      t:source <./graphs/two-values-different-nodes.ttl> ;
      t:focus ex:bar
    ]
  ] .

<#cardinatility> a mf:ManifestEntry ;
  mf:name "extra edges to satisfy cardinatility" ;
  mf:result mf:proposed ;
  mf:action [
    a t:Action ;
    t:kind t:RoundTrip ;
    t:left [
      t:source <./shapes/three-left.shex> ;
      t:shape  <http://a.example/S1>
    ] ;
    t:right [
      t:source <./shapes/three-right.shex> ;
      t:shape  <http://b.example/S1>
    ] ;
    t:start [
      t:source <./graphs/two-values.ttl> ;
      t:focus ex:foo
    ] ;
    t:target [
      t:source <./graphs/two-nodes.ttl> ;
      t:focus ex:bar
    ]
  ] .
